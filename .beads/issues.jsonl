{"id":"magic-0cv","title":"Add ARIA live regions for error and state announcements","description":"Error messages and important state changes (recording started, export complete) should use role='alert' and aria-live for screen reader announcements. See CameraStage.tsx:503-515.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T22:03:49.93309172Z","updated_at":"2025-12-15T22:03:49.93309172Z","labels":["accessibility"]}
{"id":"magic-11y","title":"Floating preview panel drag doesn't work in replay mode","description":"When in replay mode, the floating preview panel cannot be dragged/moved around. The drag handlers may not be working correctly.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-15T22:42:56.286308527Z","updated_at":"2025-12-15T23:18:09.318194909Z","closed_at":"2025-12-15T23:18:09.318194909Z"}
{"id":"magic-165","title":"ThumbnailCaptureService missing timeout causes memory leak","description":"captureAtTime and generateThumbnailsAtIntervals create video elements and blob URLs with no timeout mechanism. If the video never loads (onloadedmetadata never fires), the promise never resolves/rejects and the blob URL is never revoked, causing a memory leak. Fix: Add a timeout that calls cleanup and rejects if video metadata is not loaded within 10 seconds.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-15T22:44:49.974734238Z","updated_at":"2025-12-15T23:11:39.344688915Z","closed_at":"2025-12-15T23:11:39.344688915Z"}
{"id":"magic-1ci","title":"Fix skipped block rotation tests (timer mocking issues)","description":"useSessionRecorder.test.ts has describe.skip(\"block rotation\") with 3 critical tests skipped due to timer issues. Comment mentions mixing fake timers with real setTimeout. These test core functionality.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T00:29:57.615827379Z","updated_at":"2025-12-16T01:03:37.873625078Z","closed_at":"2025-12-16T01:03:37.873625078Z","labels":["pr-review","testing"]}
{"id":"magic-21u","title":"Add keyboard shortcuts for replay controls","description":"Only Ctrl+I (bug reporter) and Escape are handled. Add: Space=play/pause, Left/Right=frame step, S=sessions picker. Create keyboard shortcut help overlay accessible via ? key.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T22:03:29.62997969Z","updated_at":"2025-12-15T23:33:01.738762319Z","closed_at":"2025-12-15T23:33:01.738762319Z","labels":["accessibility","ux"]}
{"id":"magic-23m","title":"VideoFixService.fixDuration falls back silently to broken video","description":"If WebM fixing fails (lines 14-26), returns original non-seekable blob without any indication. User exports video, can't seek, no idea why. Should either throw or return result type indicating fix status.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-16T00:29:57.352525471Z","updated_at":"2025-12-16T01:03:36.002094868Z","closed_at":"2025-12-16T01:03:36.002094868Z","labels":["error-handling","pr-review"]}
{"id":"magic-32m","title":"Export RecordingState type from MediaRecorderService","description":"RecordingState is used in RecordingSession interface and useBlockRecorder but never defined/exported. Add: export type RecordingState = \"inactive\" | \"recording\" | \"paused\";","status":"open","priority":3,"issue_type":"bug","created_at":"2025-12-16T01:06:14.331653677Z","updated_at":"2025-12-16T01:06:14.331653677Z","labels":["coderabbit","types"]}
{"id":"magic-38z","title":"Add backpressure handling for thumbnail capture","description":"Thumbnail capture runs on fixed 3s interval with no backpressure. On low-end devices with 4K video, if captureFromVideo takes \u0026gt;3s, thumbnails pile up in queue and memory grows unbounded. Add captureInProgress flag to skip if previous capture not done.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T22:45:38.388605899Z","updated_at":"2025-12-15T22:45:38.388605899Z"}
{"id":"magic-3hb","title":"Add component tests for Timeline and ReplayControls","description":"Test coverage analysis found no component tests for Timeline and ReplayControls components. These are critical UI components for the replay feature and need proper test coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T21:58:34.65983537Z","updated_at":"2025-12-15T23:33:01.659300722Z","closed_at":"2025-12-15T23:33:01.659300722Z"}
{"id":"magic-3ly","title":"SessionStorageService deleteSessionWithBlob lacks transaction safety","description":"deleteSessionWithBlob uses Promise.all for non-atomic parallel deletes. If one fails, you get orphaned data (blob without session or vice versa). Same issue in saveSession/saveBlob pairing. Fix: Use single IndexedDB transaction spanning both stores.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-15T22:45:37.818813367Z","updated_at":"2025-12-15T23:11:40.040277066Z","closed_at":"2025-12-15T23:11:40.040277066Z"}
{"id":"magic-5gt","title":"Add keyboard accessibility to SessionThumbnail","description":"Outer div with onClick is not keyboard-accessible. Add tabIndex={0}, role=\"button\", and onKeyDown handler for Enter/Space. Lines 26-34.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-16T01:06:13.984861668Z","updated_at":"2025-12-16T02:10:38.895840011Z","closed_at":"2025-12-16T02:10:38.895840011Z","labels":["accessibility","coderabbit"]}
{"id":"magic-5kt","title":"Memory leak: Unbounded debug trace buffer in useSmartZoom","description":"debugTraceRef in useSmartZoom (line 163) is never cleared when smart zoom is disabled. If user enables/disables multiple times, old traces accumulate (~180KB per cycle). Add cleanup effect when enabled changes to false.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-16T00:29:56.304048521Z","updated_at":"2025-12-16T01:03:32.196184094Z","closed_at":"2025-12-16T01:03:32.196184094Z","labels":["memory-leak","pr-review"]}
{"id":"magic-5mf","title":"Memory leak: Timeline event listeners not cleaned on unmount","description":"In Timeline.tsx lines 66-80, if component unmounts while pointer is captured (user is dragging), the pointermove/pointerup/pointercancel listeners never get removed. Store handler references and clean up on unmount.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-15T22:03:29.147549717Z","updated_at":"2025-12-15T22:08:50.782572292Z","closed_at":"2025-12-15T22:08:50.782572292Z","labels":["memory-leak"]}
{"id":"magic-5qo","title":"Memory leak: HandLandmarker model never disposed on unmount","description":"useSmartZoom loads MediaPipe HandLandmarker model (lines 166-232) but never calls landmarkerRef.current.close() on cleanup. ML models can hold GPU resources. Add cleanup function to the effect.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-16T00:29:56.571026263Z","updated_at":"2025-12-16T01:03:32.984948481Z","closed_at":"2025-12-16T01:03:32.984948481Z","labels":["memory-leak","pr-review"]}
{"id":"magic-5ra","title":"Create reusable Modal wrapper component","description":"Modal backdrop pattern repeated 4 times identically in SessionPicker.tsx:148, SettingsModal.tsx:92, AboutModal.tsx:40, BugReportModal.tsx:121. Create Modal wrapper with focus trap, backdrop, and consistent container styling.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T22:03:49.440347627Z","updated_at":"2025-12-15T22:03:49.440347627Z","labels":["design","refactor"]}
{"id":"magic-5u7","title":"Split useSessionRecorder into focused hooks (SRP violation)","description":"useSessionRecorder is 398 lines with 8 refs and 11 state variables, violating Single Responsibility Principle. Split into: useBlockRecorder (recording lifecycle), useThumbnailCapture (thumbnail generation), useBlockRotation (5-min auto-rotation), useSessionList (session list management). Each hook would be \u0026lt;100 lines and testable independently.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T22:45:37.563200634Z","updated_at":"2025-12-16T00:11:34.820033537Z","closed_at":"2025-12-16T00:11:34.820033537Z"}
{"id":"magic-6e0","title":"Show % loaded progress for AI model initialization","description":"Display percentage progress while the MediaPipe HandLandmarker model is loading. Currently shows \"Loading...\" but should show actual progress like \"Loading 45%\".","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-15T22:41:49.001432335Z","updated_at":"2025-12-16T00:11:35.027049297Z","closed_at":"2025-12-16T00:11:35.027049297Z"}
{"id":"magic-6ij","title":"Create reusable Button component to reduce inline patterns","description":"Multiple button style patterns coexist in CameraStage.tsx (lines 581-650). Create a Button component with variants (primary, secondary, ghost, danger) and sizes (sm, md, lg) to standardize patterns.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T22:03:49.389158496Z","updated_at":"2025-12-15T22:03:49.389158496Z","labels":["design","refactor"]}
{"id":"magic-6md","title":"Extract zoom/pan constants and magic numbers","description":"Magic numbers scattered: ZOOM_THRESHOLD=0.1, PAN_THRESHOLD=0.025, wheel sensitivity 0.001, etc. Create src/constants/zoom.ts with ZOOM_CONSTANTS and PAN_CONSTANTS.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T01:54:37.054596359Z","updated_at":"2025-12-16T02:12:09.288933673Z","closed_at":"2025-12-16T02:12:09.288933673Z","labels":["refactor"]}
{"id":"magic-7xh","title":"Extract SmartZoomToggle component to eliminate duplication","description":"Smart Zoom toggle button code is duplicated in CameraStage.tsx:489-503 and ReplayControls.tsx:364-383. Extract to reusable SmartZoomToggle component.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T01:54:35.301087297Z","updated_at":"2025-12-16T02:04:07.875791747Z","closed_at":"2025-12-16T02:04:07.875791747Z","labels":["dry","refactor"]}
{"id":"magic-8mx","title":"Loading shows 100% but model still initializing","description":"Progress indicator shows 100% while the HandLandmarker model is still being created from the buffer. The download is complete but model initialization takes additional time that isn't reflected in the progress.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T00:13:21.789783354Z","updated_at":"2025-12-16T00:17:15.349220033Z","closed_at":"2025-12-16T00:17:15.349220033Z"}
{"id":"magic-9i8","title":"MediaRecorder not stopped on useSessionRecorder unmount","description":"In useSessionRecorder.ts lines 324-335, cleanup clears timers but does NOT stop the active MediaRecorder. If component unmounts while recording, MediaRecorder continues in background consuming resources and calling callbacks on unmounted state.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-15T22:03:29.373863447Z","updated_at":"2025-12-15T22:08:22.35811918Z","closed_at":"2025-12-15T22:08:22.35811918Z","labels":["memory-leak"]}
{"id":"magic-9l0","title":"Fix testability gaps: useCamera and ThumbnailCaptureService","description":"Testability issues: 1) useCamera.ts:34,42-47 directly accesses navigator.mediaDevices - add CameraService.addDeviceChangeListener() 2) useReplayPlayer.ts:204 uses window.setTimeout instead of injected timerService 3) ThumbnailCaptureService creates DOM elements directly - violates Humble Object pattern","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T01:54:38.187404772Z","updated_at":"2025-12-16T02:35:32.893488104Z","closed_at":"2025-12-16T02:35:32.893488104Z","labels":["refactor","testability"]}
{"id":"magic-9oe","title":"Add cleanup on unmount to useBlockRotation","description":"If component unmounts while rotation timer active, timer continues running and may call onBlockComplete on unmounted component. Add useEffect cleanup to clear blockTimerRef.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-16T01:06:14.679724334Z","updated_at":"2025-12-16T02:10:38.936924771Z","closed_at":"2025-12-16T02:10:38.936924771Z","labels":["coderabbit","memory-leak"]}
{"id":"magic-9pc","title":"Add focus trap to modals","description":"Modals (Settings, About, BugReport, SessionPicker) don't trap focus. Tab key can navigate to elements behind the modal. Implement focus trap that cycles through modal focusable elements.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T22:03:30.136071132Z","updated_at":"2025-12-15T23:33:01.699120114Z","closed_at":"2025-12-15T23:33:01.699120114Z","labels":["accessibility"]}
{"id":"magic-aq2","title":"IndexedDB connection can become stale without handler","description":"In SessionStorageService.getDB(), if the database is opened successfully but later becomes blocked or closes unexpectedly, dbInstance will point to a closed database. There's no onclose handler to clear dbInstance. Fix: Add db.onclose = () =\u003e { dbInstance = null; } after opening.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-15T22:44:50.294452961Z","updated_at":"2025-12-15T23:11:39.760602819Z","closed_at":"2025-12-15T23:11:39.760602819Z"}
{"id":"magic-b3u","title":"Extract ThumbnailGrid component and useDisplayThumbnails hook","description":"Thumbnail rendering duplicated ~50 lines across ReplayControls.tsx and SessionPicker.tsx. Create: 1) useDisplayThumbnails hook for selection logic 2) ThumbnailGrid component for rendering 3) calculateThumbnailDimensions utility","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-16T01:54:35.818694566Z","updated_at":"2025-12-16T02:09:08.604452216Z","closed_at":"2025-12-16T02:09:08.604452216Z","labels":["dry","refactor"]}
{"id":"magic-bax","title":"Create Modal wrapper component","description":"All modals (SettingsModal, AboutModal, BugReportModal, SessionPicker) use identical wrapper structure with backdrop, click-outside-to-close, and container styling. Extract reusable Modal component.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-16T01:54:38.792090062Z","updated_at":"2025-12-16T01:54:38.792090062Z","labels":["dry","refactor"]}
{"id":"magic-c46","title":"Missing await on onRefresh before handleBack in SessionPicker","description":"In src/components/SessionPicker.tsx line 386, onRefresh() is not awaited before handleBack() is called. This could cause a race condition where the view changes before the refresh completes.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-15T21:58:34.609582718Z","updated_at":"2025-12-15T22:06:08.977935441Z","closed_at":"2025-12-15T22:06:08.977935441Z"}
{"id":"magic-car","title":"Use atomic saveSessionWithBlob instead of separate calls","description":"useSessionList.saveBlock (lines 103-107) saves session and blob in two separate calls instead of using the atomic saveSessionWithBlob method. If app crashes between calls, creates orphaned session without blob.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T00:29:55.883978664Z","updated_at":"2025-12-16T01:03:27.384011417Z","closed_at":"2025-12-16T01:03:27.384011417Z","labels":["data-integrity","pr-review"]}
{"id":"magic-cdq","title":"Blob URL lifecycle not tracked across video element mount/unmount","description":"In useReplayPlayer.ts lines 95-133, the callback ref pattern allows video element to mount/unmount while blobUrlRef persists. In React strict mode, this could cause two video elements to reference the same blob URL. Track currentVideoElementRef explicitly.","status":"closed","priority":2,"issue_type":"bug","assignee":"claude","created_at":"2025-12-15T22:03:09.82289182Z","updated_at":"2025-12-15T22:33:35.342090203Z","closed_at":"2025-12-15T22:33:35.342090203Z","labels":["race-condition"]}
{"id":"magic-cg5","title":"Extract color picker logic to useColorPicker hook","description":"Color picker logic in CameraStage.tsx:209-236 has complex canvas manipulation embedded in main component. Extract to dedicated useColorPicker hook for better separation.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-16T01:54:39.383600763Z","updated_at":"2025-12-16T01:54:39.383600763Z","labels":["refactor"]}
{"id":"magic-ch9","title":"Model loading progress not monotonically increasing","description":"The AI model loading progress indicator jumps around instead of smoothly increasing from 0% to 100%. This may be due to Content-Length header not being reliable or chunks being processed out of order.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T00:13:21.727630418Z","updated_at":"2025-12-16T00:17:15.299875329Z","closed_at":"2025-12-16T00:17:15.299875329Z"}
{"id":"magic-crm","title":"Add IndexedDB schema migration strategy","description":"DB_VERSION=1 but no migration strategy for future schema changes. When we need to add fields (e.g. tags), users with v1 data won't be migrated. Implement version-aware migrations in onupgradeneeded handler.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T22:45:38.103379642Z","updated_at":"2025-12-15T22:45:38.103379642Z"}
{"id":"magic-cto","title":"Add test for block rotation in useSessionRecorder","description":"The block rotation logic (auto-splitting recordings at 5-minute intervals) has no test. Tests should verify: block completes and new one starts when enabled is still true, block completes but NO new block starts when enabled becomes false, session is properly saved before rotation.","notes":"Tests added to useSessionRecorder.test.ts in \"block rotation\" describe block. Tests verify:\n1. Block rotation timer is set with correct duration  \n2. Block completes and new one starts when enabled=true\n3. Block completes but NO new block starts when enabled=false\n4. Session is saved properly before rotation\n\nChallenge: Tests are currently timing out due to complexity of mocking timers with React hooks and async effects. The timer service needs to delegate to real/fake timers correctly for vi.advanceTimersByTimeAsync() to work, but waitFor() also needs real time. This is a known testing challenge with hooks that use timers.\n\nPossible solutions:\n- Manually trigger rotation callback instead of advancing fake timers\n- Use real timers with very short durations (risky/flaky)\n- Test timer setup rather than full rotation flow\n- Restructure code to make rotation logic more testable","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T22:44:51.425157322Z","updated_at":"2025-12-16T00:11:34.920341546Z","closed_at":"2025-12-16T00:11:34.920341546Z"}
{"id":"magic-db1","title":"exportVideo shows no user feedback on failure","description":"In useReplayPlayer, exportVideo catches errors but doesn't call setError() to inform the user. The user has no feedback when export fails. Fix: Add setError(\"Export failed - please try again\") in the catch block.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-15T22:44:50.57643981Z","updated_at":"2025-12-15T23:11:39.489386242Z","closed_at":"2025-12-15T23:11:39.489386242Z"}
{"id":"magic-dbl","title":"Guard against non-positive intervalSeconds in ThumbnailCaptureService","description":"If intervalSeconds is 0 or negative in generateThumbnailsAtIntervals, currentTime never exceeds duration causing infinite loop. Add validation: if (intervalSeconds \u003c= 0) throw new Error(...)","status":"open","priority":3,"issue_type":"bug","created_at":"2025-12-16T01:06:15.031084317Z","updated_at":"2025-12-16T01:06:15.031084317Z","labels":["coderabbit","validation"]}
{"id":"magic-dnh","title":"Extract useSettings hook from CameraStage (686 lines)","description":"CameraStage.tsx is 686 lines and handles too many concerns. Extract all localStorage-persisted settings (flash detection, smart zoom, mirror, smoothing preset) into a useSettings hook. This removes ~100 lines and improves testability. See lines 54-160.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T22:03:09.058610494Z","updated_at":"2025-12-15T23:38:27.032876699Z","closed_at":"2025-12-15T23:38:27.032876699Z","labels":["arch","refactor"]}
{"id":"magic-dtd","title":"Division by zero in thumbnailSelection when actualCount is 1","description":"In src/utils/thumbnailSelection.ts around line 54, when actualCount equals 1, the division produces Infinity. This can cause unexpected behavior when selecting thumbnails for very short recordings.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-15T21:58:34.517414653Z","updated_at":"2025-12-15T22:08:22.403232349Z","closed_at":"2025-12-15T22:08:22.403232349Z"}
{"id":"magic-dxy","title":"Stale closure in useReplayPlayer loadSession timeout","description":"The loadSession function captures videoElement in a closure when setting the load timeout. If the video element changes between when loadSession is called and when the timeout fires, the check videoElement.readyState \u003c 1 will reference a stale element. Fix: Use currentVideoElementRef.current instead of the videoElement state variable inside the timeout callback.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-15T22:44:49.690918524Z","updated_at":"2025-12-15T23:11:39.393827529Z","closed_at":"2025-12-15T23:11:39.393827529Z"}
{"id":"magic-e7r","title":"Add unit tests for formatters.ts (zero coverage)","description":"The formatDuration function in src/utils/formatters.ts has no tests. Add tests for: basic formatting (65s -\u003e 1:05), zero seconds, negative numbers, large numbers (3661s -\u003e 61:01), fractional seconds, NaN/Infinity inputs.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T22:44:50.863660384Z","updated_at":"2025-12-15T23:24:48.597350329Z","closed_at":"2025-12-15T23:24:48.597350329Z"}
{"id":"magic-e8y","title":"Add stream validation before MediaRecorder.start()","description":"Added validation checks for stream health before attempting to start MediaRecorder: checks stream.active, video track existence, and track.readyState. Also added diagnostic logging when failures occur.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-16T01:44:40.170189591Z","updated_at":"2025-12-16T01:44:44.936178621Z","closed_at":"2025-12-16T01:44:44.936178621Z"}
{"id":"magic-fda","title":"Minimap sometimes doesn't show video in smart zoom mode","description":"In smart zoom mode, the minimap sometimes doesn't display the video content, only showing the zoom indicator box but no video. This may be related to when the video source is set or timing of the effect.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-15T22:45:37.517705567Z","updated_at":"2025-12-15T23:18:09.281423227Z","closed_at":"2025-12-15T23:18:09.281423227Z"}
{"id":"magic-fjx","title":"Stale closure in useReplayPlayer timeout callback","description":"In src/hooks/useReplayPlayer.ts lines 186-190, the timeout callback captures a stale isReady value. The closure doesn't reflect the current state when the timeout fires, potentially causing incorrect behavior.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-15T21:58:34.5653481Z","updated_at":"2025-12-15T22:08:50.739299761Z","closed_at":"2025-12-15T22:08:50.739299761Z"}
{"id":"magic-h02","title":"Fix passive event listener warning for wheel zoom","description":"Browser logs \"Unable to preventDefault inside passive event listener\" because React's onWheel registers as passive by default. Need to use addEventListener with { passive: false } instead.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-16T01:19:41.684041086Z","updated_at":"2025-12-16T01:35:50.419048535Z","closed_at":"2025-12-16T01:35:50.419048535Z"}
{"id":"magic-h1z","title":"Silent failure in useReplayPlayer.play() - no user feedback","description":"play() catches video playback errors and only logs to console. User gets no feedback when playback fails (e.g., autoplay policy on mobile). Should set error state with helpful message like \"Playback blocked - tap to enable\".","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T00:29:55.992288627Z","updated_at":"2025-12-16T01:03:27.832950254Z","closed_at":"2025-12-16T01:03:27.832950254Z","labels":["error-handling","pr-review"]}
{"id":"magic-hch","title":"Create LoadingOverlay and ErrorOverlay components","description":"Loading spinner and error UI patterns duplicated across ReplayView.tsx and CameraStage.tsx. Extract reusable LoadingOverlay and ErrorOverlay components.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T01:54:37.568591207Z","updated_at":"2025-12-16T02:35:32.84862651Z","closed_at":"2025-12-16T02:35:32.84862651Z","labels":["dry","refactor"]}
{"id":"magic-hna","title":"Fix Minimap showing when not zoomed","description":"In Minimap.tsx line 35, the conditional 'if (zoom \u003c= 1) return null' is commented out, so Minimap always shows even when not zoomed. This is confusing and wastes screen space.","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-15T22:03:49.671539977Z","updated_at":"2025-12-15T22:06:09.023799991Z","closed_at":"2025-12-15T22:06:09.023799991Z","labels":["ux"]}
{"id":"magic-hv7","title":"Fix 4 skipped tests in useSessionRecorder","description":"Test coverage analysis found 4 skipped tests in useSessionRecorder. Skipped tests should either be fixed or removed if no longer relevant.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-15T21:58:34.867064599Z","updated_at":"2025-12-16T00:13:01.83417892Z","closed_at":"2025-12-16T00:13:01.83417892Z"}
{"id":"magic-max","title":"Current Recording card click does nothing but shows cursor-pointer","description":"In SessionPicker.tsx:187-189, current recording card has cursor-pointer but handleCurrentRecordingClick (lines 115-118) is a TODO placeholder. Either implement or remove pointer cursor and show 'Recording in progress' overlay.","status":"closed","priority":3,"issue_type":"bug","assignee":"claude","created_at":"2025-12-15T22:03:50.429778883Z","updated_at":"2025-12-15T22:33:35.390405299Z","closed_at":"2025-12-15T22:33:35.390405299Z","labels":["ux"]}
{"id":"magic-msk","title":"Stale closure in useSessionRecorder block timer callback","description":"In useSessionRecorder.ts lines 268-274, the block rotation timeout captures enabled value at creation time. If enabled changes during block duration, the stale value is used. Use enabledRef to get current value.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-15T22:03:10.332664705Z","updated_at":"2025-12-15T22:08:22.444422114Z","closed_at":"2025-12-15T22:08:22.444422114Z","labels":["stale-closure"]}
{"id":"magic-n2w","title":"Replace browser confirm/prompt with custom dialogs","description":"Native browser confirm() and prompt() dialogs don't match app design. Found in SessionThumbnail.tsx:67, SessionPicker.tsx:275-277 and 380-382. Create ConfirmDialog and PromptDialog components matching modal design.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-15T22:03:30.383759771Z","updated_at":"2025-12-15T22:03:30.383759771Z","labels":["design","ux"]}
{"id":"magic-p9c","title":"Pending seek can apply to wrong session","description":"In useReplayPlayer.ts lines 241-250, if user seeks while session A loads, then switches to session B before A finishes, the pending seek applies to session B. Store session ID with pending seek to validate.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-15T22:03:10.081871626Z","updated_at":"2025-12-15T22:08:22.494632655Z","closed_at":"2025-12-15T22:08:22.494632655Z"}
{"id":"magic-qbo","title":"Recording state race condition during app state transitions","description":"In useSessionRecorder.ts lines 291-336, when transitioning live→picker→replay→live rapidly, recording may start before video is ready or after user has moved to different state. Add state machine guards and use refs to track current enabled state.","status":"closed","priority":1,"issue_type":"bug","assignee":"claude","created_at":"2025-12-15T22:03:09.54639284Z","updated_at":"2025-12-15T22:33:35.290580926Z","closed_at":"2025-12-15T22:33:35.290580926Z","labels":["race-condition"]}
{"id":"magic-qhr","title":"Sessions picker doesn't show current/recent sessions","description":"When clicking Sessions in replay mode, only shows old sessions from an hour ago instead of the current session. Session list refresh may not be working correctly.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T00:13:21.837309536Z","updated_at":"2025-12-16T00:17:15.385923839Z","closed_at":"2025-12-16T00:17:15.385923839Z"}
{"id":"magic-r5v","title":"SessionPicker handleDelete swallows errors silently","description":"handleDelete (lines 129-142) catches delete errors and only logs to console. User clicks delete, nothing happens, session remains. Should show error state in UI.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-16T00:29:57.086405668Z","updated_at":"2025-12-16T01:03:35.371509727Z","closed_at":"2025-12-16T01:03:35.371509727Z","labels":["error-handling","pr-review"]}
{"id":"magic-rcy","title":"Add ARIA labels to icon-only buttons","description":"Icon-only buttons (Settings, close buttons) have title attributes but missing aria-label. Screen readers need aria-label for proper accessibility. See CameraStage.tsx:674-680.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T22:03:29.881745277Z","updated_at":"2025-12-15T23:24:48.638492945Z","closed_at":"2025-12-15T23:24:48.638492945Z","labels":["accessibility"]}
{"id":"magic-rjn","title":"MediaRecorder fails to start with NotSupportedError","description":"Error: \"Failed to execute 'start' on 'MediaRecorder': There was an error starting the MediaRecorder\" at MediaRecorderService.ts:67 and useSessionRecorder.ts:254. This may occur when the browser doesn't support the codec or the stream is in an invalid state.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-15T22:40:41.299582794Z","updated_at":"2025-12-15T23:11:39.441414117Z","closed_at":"2025-12-15T23:11:39.441414117Z","labels":["error-handling","recording"]}
{"id":"magic-sqc","title":"Fix skipped useSessionRecorder tests (timing issues)","description":"Four critical tests in useSessionRecorder.test.ts are skipped due to \"timing issues with async effects\": stopCurrentBlock, timer cleanup, session refresh, camera error handling. These need fake timers (vi.useFakeTimers()) to work properly. IMPORTANT: Before fixing, investigate WHY these tests failed and what bugs they might have caught. Document findings in the test file comments.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T22:44:51.136645535Z","updated_at":"2025-12-16T00:11:34.969351621Z","closed_at":"2025-12-16T00:11:34.969351621Z"}
{"id":"magic-u1g","title":"stopRecording() returns null on error without setting error state","description":"useBlockRecorder.stopRecording (lines 80-94) returns null on failure but doesn't set error state. User's recording silently lost with no notification. Should call setError() in catch block.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-16T00:29:56.04134364Z","updated_at":"2025-12-16T01:03:30.034418108Z","closed_at":"2025-12-16T01:03:30.034418108Z","labels":["error-handling","pr-review"]}
{"id":"magic-ubl","title":"Review fix-webm-duration API usage for 0 duration","description":"VideoFixService passes 0 when duration unknown, but library may expect undefined/omit for auto-calculation. Verify library API and pass conditionally: only pass durationMs when valid positive number.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-16T01:06:15.397492706Z","updated_at":"2025-12-16T01:06:15.397492706Z","labels":["coderabbit","review"]}
{"id":"magic-wcq","title":"Verify GPU delegate is being used for HandLandmarker","description":"Fixed initialization order (delegate must be in createFromOptions, not setOptions after). If still seeing \"XNNPACK delegate for CPU\" instead of GPU, investigate: WebGL availability, browser limitations, or fallback behavior. GPU should show faster inference and smoother tracking.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T01:17:38.135367921Z","updated_at":"2025-12-16T01:35:50.464266585Z","closed_at":"2025-12-16T01:35:50.464266585Z","labels":["performance"]}
{"id":"magic-wnr","title":"Remove unused MediaRecorderService.extractPreviewFrame","description":"MediaRecorderService.ts lines 94-138 contains extractPreviewFrame function that is never called (grep shows no usage). It duplicates ThumbnailCaptureService logic. Remove dead code.","status":"closed","priority":4,"issue_type":"chore","created_at":"2025-12-15T22:03:50.180998069Z","updated_at":"2025-12-15T23:24:48.675113961Z","closed_at":"2025-12-15T23:24:48.675113961Z","labels":["cleanup"]}
{"id":"magic-xi6","title":"Add error handling to handleSelectSession in CameraStage","description":"If replayPlayer.loadSession fails (corrupted data, IndexedDB error), app still transitions to \"replay\" state without valid session. Wrap in try/catch and only setAppState(\"replay\") on success. Lines 171-180.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-16T01:06:13.632979859Z","updated_at":"2025-12-16T01:15:35.386915487Z","closed_at":"2025-12-16T01:15:35.386915487Z","labels":["coderabbit","error-handling"]}
{"id":"magic-xvu","title":"Update stale thumbnail interval comments (15s vs actual 3s)","description":"Architecture doc and types/sessions.ts line 19 say thumbnails every \"15s\" but SESSION_CONFIG.THUMBNAIL_INTERVAL_MS is 3000 (3s). Update docs and comments to match implementation.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-16T00:29:57.871752372Z","updated_at":"2025-12-16T00:29:57.871752372Z","labels":["docs","pr-review"]}
{"id":"magic-y8u","title":"Floating panel should move entire replay scrubber, not just thumbnails","description":"User wants the floating preview panel to move the whole replay controls/scrubber around, not just the thumbnail grid. The current thumbnail panel is overengineered - just need simple bigger/smaller controls.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-16T00:13:21.889457606Z","updated_at":"2025-12-16T00:13:21.889457606Z"}
{"id":"magic-yiv","title":"Extract useZoomPan hook from CameraStage","description":"Extract zoom/pan state and handlers (handleWheel, handleMouseDown, etc.) into a useZoomPan hook. This removes ~80 lines from CameraStage (lines 299-380) and makes zoom/pan logic testable in isolation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-15T22:03:09.288016622Z","updated_at":"2025-12-15T23:38:27.076937796Z","closed_at":"2025-12-15T23:38:27.076937796Z","labels":["arch","refactor"]}
{"id":"magic-z2h","title":"Split CameraStage into smaller components","description":"CameraStage.tsx has 20+ state variables and 15+ hooks - too complex, causing bugs. Split into: 1) CameraControls (bottom bar) 2) DebugOverlays (flash warning, boundaries) 3) ModalManager (settings, about, bug report). Consider useReducer for grouped state.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-16T01:54:36.421754349Z","updated_at":"2025-12-16T01:54:36.421754349Z","labels":["complexity","refactor"]}
{"id":"magic-z4i","title":"Stale closure: onBlockComplete missing startRecordingBlock in deps","description":"useSessionRecorder.onBlockComplete (lines 133-139) calls startRecordingBlock but doesn't include it in dependency array. May reference stale version after re-render. Need to reorder hook definitions or add to deps.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-16T00:29:56.827204958Z","updated_at":"2025-12-16T01:03:34.471545293Z","closed_at":"2025-12-16T01:03:34.471545293Z","labels":["pr-review","race-condition"]}
